[{"title":"《群英传》读书记 —— Android 控件","url":"http://ginkwang.github.io/2018/11/05/《群英传》读书记 —— Android 控件/","content":"<h2 id=\"控件架构\"><a href=\"#控件架构\" class=\"headerlink\" title=\"控件架构\"></a>控件架构</h2><p>Android 每个控件都会在界面中占据一块矩形区域，而在 Android 中，控件大致被分为两类 —— ViewGroup 和 View。</p>\n<p>ViewGroup 是 View 的父控件。</p>\n<h2 id=\"View-的测量\"><a href=\"#View-的测量\" class=\"headerlink\" title=\"View 的测量\"></a>View 的测量</h2><p>Android 在绘制 View 前，必须对 View 进行测量，即让系统知道要绘制一个多大的 View。</p>\n<p>这个过程在 onMeasure() 中执行。</p>\n<p>执行 View 测量的类是 —— Measure 类，测量模式分为以下三种：</p>\n<ul>\n<li><strong>EXACTLY</strong>：精确值模式</li>\n<li><strong>AT_MOST</strong>：最大值模式</li>\n<li><strong>UNSPECIFIDE</strong>：不指定 View 大小进行测量，View 想多大就多大，通常在绘制自定义 View 时使用。</li>\n</ul>\n<p>View 类默认的 onMeasure() 方法只支持 EXACTLY 模式。</p>\n<h2 id=\"View-的绘制\"><a href=\"#View-的绘制\" class=\"headerlink\" title=\"View 的绘制\"></a>View 的绘制</h2><p>绘制 View 要重写 onDraw() 方法，并使用系统提供的绘制 2D View 的 Canvas 对象。</p>\n<p>创建 Canvas 对象时要传入一个 bitmap 参数，使之与创建的 Canvas 画布紧密联系在一起，这一步称为“装载画布”。</p>\n<p>这个 bitmap 存储所有在 Canvas 上绘制的像素信息。</p>\n<h2 id=\"ViewGroup-的绘制\"><a href=\"#ViewGroup-的绘制\" class=\"headerlink\" title=\"ViewGroup 的绘制\"></a>ViewGroup 的绘制</h2><p>ViewGroup 会管理其子 View，其中就会管理其子 View 的大小。</p>\n<p>ViewGroup 在测量时会通过遍历所有子 View，从而调用子 View 的 Measure 方法来获取每个子 View 的测量结果。</p>\n<h2 id=\"ViewGroup-的绘制-1\"><a href=\"#ViewGroup-的绘制-1\" class=\"headerlink\" title=\"ViewGroup 的绘制\"></a>ViewGroup 的绘制</h2><p>ViewGroup 不需要绘制，但是 ViewGroup 会使用 dispatchDraw() 方法来绘制其子 View，其过程是通过遍历所有子 View，并调用子 View 的绘制方法完成绘制工作。</p>\n","categories":[],"tags":[]},{"title":"Android 开发常用的 ADB （及 ADB Shell）命令汇总","url":"http://ginkwang.github.io/2018/11/05/Android 开发常用的 ADB （及 ADB Shell）命令汇总/","content":"<h3 id=\"ADB-命令\"><a href=\"#ADB-命令\" class=\"headerlink\" title=\"ADB 命令\"></a><strong>ADB 命令</strong></h3><ul>\n<li><p>查看连接的设备</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb devices</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>将system分区重新挂载为可读写分区</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb remount</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>重启设备</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb reboot</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>重启设备到 bootloader，即刷机模式</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb reboot bootloader</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>重启设备到 recovery，即恢复模式</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb reboot recovery</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看 log</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb logcat</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>清除log缓存</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb logcat -c</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>获取设备序列号</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb get-serialno</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>获取机器 MAC 地址：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell cat /sys/class/net/wlan0/address</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>获取 CPU 序列号：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell cat /proc/cpuinfo</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>安装 APK</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb install xxx.apk</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>保留数据和缓存文件，重装 APK</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb install -r xxx.apk</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>安装 APK 到 SD 卡：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb install -s xxx.apk</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>卸载 APK</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb uninstall xxx.apk</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>保留数据和缓存文件，卸载 APK</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb uninstall -k xxx.apk</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>从本地复制文件到设备</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb push &lt;local&gt; &lt;remote&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>从设备复制文件到本地</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb pull &lt;remote&gt; &lt;local&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"ADB-Shell-命令\"><a href=\"#ADB-Shell-命令\" class=\"headerlink\" title=\"ADB Shell 命令\"></a><strong>ADB Shell 命令</strong></h3><ul>\n<li><p>启动应用 （例：启动设置主页面）</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell am start com.android.settings/com.android.settings.Settings</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看设备cpu和内存占用情况</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell top</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看占用内存前5的 APP</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell top -m 5</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>刷新一次内存信息，然后返回</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell top -n 1</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看进程列表</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell ps</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>杀死某个进程</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell kill [pid]</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看指定进程状态</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell ps -x [PID]</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看后台 Service 信息</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell service list</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>查看当前内存占用</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell cat /proc/meminfo</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>重命名文件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell rename path/oldfilename path/newfilename</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>移动文件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell mv path/file newpath/file</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>设置文件权限</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell chmod 777 /system/fonts/DroidSansFallback.ttf</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>获取设备电池信息</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adb shell dumpsys battery</span><br></pre></td></tr></table></figure></li>\n</ul>\n","categories":[],"tags":[]},{"title":"Ubuntu 卸载并清理软件的命令","url":"http://ginkwang.github.io/2018/11/04/Ubuntu 卸载并清理软件的命令/","content":"<h3 id=\"一、卸载软件\"><a href=\"#一、卸载软件\" class=\"headerlink\" title=\"一、卸载软件\"></a><strong>一、卸载软件</strong></h3><p>如果知道软件具体名称，可以使用下面的命令：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get remove --purge 软件名称  </span><br><span class=\"line\">sudo apt-get autoremove --purge 软件名称</span><br></pre></td></tr></table></figure>\n<p>如果不知道软件具体名称，</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dpkg --get-selections | grep ‘软件相关名称’</span><br><span class=\"line\"></span><br><span class=\"line\">sudo apt-get purge 一个带core的package，如果没有带core的package，则是情况而定。</span><br></pre></td></tr></table></figure>\n<h3 id=\"二、清理残留数据\"><a href=\"#二、清理残留数据\" class=\"headerlink\" title=\"##二、清理残留数据\"></a>##二、清理残留数据</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dpkg -l |grep ^rc|awk &apos;&#123;print $2&#125;&apos; |sudo xargs dpkg -P</span><br></pre></td></tr></table></figure>","categories":[],"tags":[]},{"title":"about","url":"http://ginkwang.github.io/about/index.html","content":"","categories":[],"tags":[]},{"title":"category","url":"http://ginkwang.github.io/category/index.html","content":"","categories":[],"tags":[]},{"title":"link","url":"http://ginkwang.github.io/link/index.html","content":"","categories":[],"tags":[]},{"title":"project","url":"http://ginkwang.github.io/project/index.html","content":"","categories":[],"tags":[]},{"title":"search","url":"http://ginkwang.github.io/search/index.html","content":"","categories":[],"tags":[]},{"title":"tag","url":"http://ginkwang.github.io/tag/index.html","content":"","categories":[],"tags":[]}]